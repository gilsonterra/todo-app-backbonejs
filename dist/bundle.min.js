!function(){"use strict";Backbone.Model.prototype.idAttribute="_id";const t=Backbone.Model.extend({defaults:{title:"",description:""}}),e=Backbone.Collection.extend({}),i=Backbone.View.extend({model:new t,tagName:"tr",initialize:function(){const t=this.$(".label-title").html(),e=this.$(".label-description").html();this.data={title:t,description:e},this.template=_.template($(".tasks-list-template").html())},events:{"click .edit-task":"edit","click .update-task":"update","click .cancel":"cancel","click .delete-task":"delete"},edit:function(){$(".edit-task").hide(),$(".delete-task").hide(),this.$(".update-task").show(),this.$(".cancel").show(),this.$(".label-title").html(`<input type="text" class="form-control title-update" value="${this.model.get("title")}">`),this.$(".label-description").html(`<input type="text"" class="form-control description-update" value="${this.model.get("description")}">`)},update:function(){this.model.set("title",$(".title-update").val()),this.model.set("description",$(".description-update").val())},cancel:function(){$(".edit-task").show(),$(".delete-task").show(),this.$(".update-task").hide(),this.$(".cancel").hide(),this.$(".label-title").html(this.model.get("title")),this.$(".label-description").html(this.model.get("description"))},delete:function(){this.model.destroy()},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}}),n=Backbone.View.extend({model:new e,el:$(".tasks-list"),initialize:function(){var t=this;this.model.on("add",this.render,this),this.model.on("change",(function(){setTimeout((function(){t.render()}),30)}),this),this.model.on("remove",this.render,this),this.render()},render:function(){var t=this;return this.$el.html(""),_.each(this.model.toArray(),(function(e){t.$el.append(new i({model:e}).render().$el)})),this}});Backbone.Model.prototype.idAttribute="_id";const l=new e([new t({title:"Tarefa 1",description:"Lorem ipsum"}),new t({title:"Tarefa 2",description:"Description ipsums"})]);new n({model:l}),$(document).ready((function(){$(".add-task").on("click",(function(){const e=new t({title:$(".title-input").val(),description:$(".description-input").val()});$(".title-input").val(""),$(".description-input").val(""),l.add(e)}))}))}();
